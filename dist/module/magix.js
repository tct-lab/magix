/*!5.0.1 MIT kooboy_li@163.com*/let e=0,t=[],r=window,i=document,n=setTimeout,o=encodeURIComponent;function a(){}let l=JSON.stringify,s=i.body,f=(Date.now,"prototype"),d=Object[f].toString,h=e=>d.call(e).slice(8,-1),u=e=>"Object"==h(e),p=Array.isArray,c=t=>(t||"mx_")+e++,b=e=>i.getElementById(e),m=(e,t)=>e.innerHTML=t,g=c(),w={rootId:c(),defaultView:g,error(e){throw e}},v=e=>!e||"object"!=typeof e,x=(e,t,r)=>{if(e&&t&&!(r=e==t))try{r=16==(16&t.compareDocumentPosition(e))}catch(e){}return r},{assign:y,keys:$,hasOwnProperty:k}=Object,V=i.head,I=i.createElement("div"),j=I.getAttribute,A=(e,t)=>j.call(e,t),O=(e,t)=>{t&&!O[e]&&(O[e]=1,m(I,`<style>${t}`),V.appendChild(I.firstChild))},C=(e,r,i,n,o)=>{for(o of(r=r||t,p(e)||(e=[e]),p(r)||(r=[r]),e))try{n=o&&o.apply(i,r)}catch(e){w.error(e)}return n},E=(e,t)=>e&&k.call(e,t),S=(e,t)=>{let r,i;if(v(t))"\x1e"==(r=t+"")[0]&&e.has(r)&&(t=e.get(r));else for(r in t)i=t[r],i=S(e,i),t[r]=i;return t},U=(e,t)=>t.a-e.a||t.b-e.b;function M(e,t,r,i){(i=this).a=[],i.b=t||5,i.c=i.b+(e||20),i.d=r}y(M[f],{get(t){let r=this.a["\x1e"+t];return r&&(r.a++,r.b=e++,r=r.c),r},set(t,r){let i=this,n=i.a,o="\x1e"+t,a=n[o],l=i.b;if(!a){if(n.length>=i.c)for(n.sort(U);l--;)(a=n.pop()).a>0&&i.del(a.o);a={d:t},n.push(a),n[o]=a}a.c=r,a.a=1,a.b=e++},del(e){e="\x1e"+e;let t=this.a,r=t[e],i=this.d;r&&(r.a=-1,r.c="",delete t[e],i&&C(i,r.d))},has(e){return E(this.a,"\x1e"+e)}});let N,T={bubbles:!0,cancelable:!0},Z=[],B=(e,t,r,i,n,o)=>{let a={a:i,b:r,c:t,d:e,e(e){i?C(r,e,o):r(e)}};Z.push(a),e.addEventListener(t,a.e,n)},L=(e,t,r,i,n)=>{for(let o,a=Z.length;a--;)if((o=Z[a]).c==t&&o.a==i&&o.d==e&&o.b===r){Z.splice(a,1),e.removeEventListener(t,o.e,n);break}},_=new M,R=e=>{let t,r,i,n,o,a=_.get(e);if(!a){if(n={},-1==(o=e.indexOf("?")))t=e;else if(t=e.substring(0,o),e=e.substring(o+1))for(o of e.split("&"))[r,i]=o.split("="),n[r]=decodeURIComponent(i||"");_.set(e,a={a:t,b:n})}return{path:a.a,params:y({},a.b)}},D=new M,P=(e,t,r)=>(D.has(e)?r=D.get(e):(r=C(Function(`return ${e}`)),e.indexOf("\x1e")>-1?S(t,r):D.set(e,r)),r),H=(e,t)=>{if(e)if(g==e)N||(N=De.extend()),t(N);else{p(e)||(e=[e]);let r=[],i=0,n=e.length,o=MX_Cfg.paths,a=e=>o=>{r[e]=o.default,++i==n&&t(...r)};for(let t,r,i,l=n;l--;)(r=(t=e[l]).indexOf("/"))>-1&&(i=t.slice(0,r),t=t.slice(r+1),t=(o[i]||`unset/${i}/path/`)+t),t.endsWith(".js")||(t+=".js"),import(t).then(a(l))}else t()};function q(){}let z=(e,t,r,i,n)=>(q[f]=t[f],n=new q,y(n,r),y(e,i),n.constructor=e,e[f]=n,e),F=e=>e;let J,W={fire(e,t){let r,i,n=this,o=n["\x1e"+e],a=0;if(t||(t={}),t.type=e,o)for(r=o.length;a<r;a++)(i=o[a]).f?(i.x=1,C(i.f,t,n),i.x=""):i.x||(o.splice(a--,1),r--);return(o=n[`on${e}`])&&C(o,t,n),n},on(e,t){let r="\x1e"+e;return(this[r]||(this[r]=[])).push({f:t}),this},off(e,t){let r,i="\x1e"+e,n=this,o=n[i];if(t){if(o)for(r of o)if(r.f==t){r.f="";break}}else delete n[i],delete n[`on${e}`];return n}},X={},G=(e,t,r,i)=>{t.indexOf("\x1e")>0&&(i=X[e])&&S(i.a.a,r)},K=(e,t)=>{E(X,e)||(X[e]=t,ee.fire("add",{vframe:t}))},Q=(e,t,r)=>{for(t=e.c;t.length;)(r=t.shift()).r||e.invoke(r.n,r.a),delete t[r.k]},Y=e=>e.b||(e.b=c());function ee(e,t){let r=this,i=Y(e);r.id=i,r.root=e,r.pId=t,r.b={},r.d=1,r.c=[],K(i,r)}y(ee,{all:()=>X,byId:e=>X[e],byNode:e=>X[e.b]},W),y(ee[f],{mountView(e,t){let r,i,n,o,a,l=this,{id:s,root:f,pId:d}=l;!l.e&&f&&(l.e=1,l.f=f.innerHTML),l.unmountView(),f&&e&&(r=R(e),n=r.path,l.path=e,o=r.params,G(d,e,o),l.g=n,y(o,t),i=l.d,H(n,e=>{if(i==l.d){if(!e)return w.error(Error(`${s} cannot load:${n}`));a=Re(e),n=new e(s,f,l,o,a),l.a=n,Ze(n),C(n.init,o,n),n.g(),n.tmpl||(l.e=0,n.h||n.endUpdate())}}))},unmountView(){let e=this,{a:t,root:r}=e;e.c=[],t&&(e.unmountZone(),e.a=0,t.d>0&&(t.d=0,t.fire("destroy"),t.off("destroy"),View_DestroyAllResources(t,1),Ze(t,1),t.owner=t.root=null),t.d--,r&&e.e&&m(r,e.f)),e.d++},mountVframe(e,t,r){let i,n=this,o=n.id,a=n.b,l=Y(e);return(i=X[l])||(E(a,l)||(n.h=0),a[l]=l,i=new ee(e,o)),i.mountView(t,r),i},mountZone(e){let t,r=this,i=(e=e||r.root).querySelectorAll("[mx-view]");for(t of i)t.a||(t.a=1,r.mountVframe(t,A(t,"mx-view")))},unmountVframe(e,t){let r,i;var n,o;e=e?this.b[t?e:e.b]:this.id,(r=X[e])&&(r.unmountView(),i=r.pId,(o=X[n=e])&&(delete X[n],o.root.a=0,ee.fire("remove",{vframe:o}),o.id=o.root=o.pId=o.b=null),(r=X[i])&&E(r.b,e)&&(delete r.b[e],r.h=0))},unmountZone(e){let t,r,i,n=this;for(t in n.b)(i=e?(r=X[t])&&x(r.root,e):1)&&n.unmountVframe(t,1)},parent(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=X[t.pId];return t},children(e){return(e=this).h||(e.h=$(e.b))},invoke(e,t){let r,i,n,o,a,l=this.c;return(i=this.a)&&i.h?r=(n=i[e])&&C(n,t,i):((o=l[a="\x1e"+e])&&(o.r=t===o.a),o={n:e,a:t,k:a},l.push(o),l[a]=o),r}});let te=new M(30,10),re=/(?:([\w\-]+)\x1e)?([^(]+)\(([\s\S]*)?\)/,ie={},ne={},oe=(e,r)=>{let i,n,o,a,l,f,d,h,u=[],p=e,c=A(e,`mx-${r}`),b=0;if(c&&((l=te.get(c))||(l={v:(l=c.match(re)||t)[1],n:l[2],i:l[3]},te.set(c,l)),l=y({},l,{r:c})),l&&!l.v||ne[r]){if(!(h=p.c)){for(d=[p];p!=s&&(p=p.parentNode);){if(X[n=p.b]||(n=p.c)){h=n;break}d.push(p)}if(h)for(c of d)c.c=h}if(h){p=e.b,X[p]&&(b=h=p);do{if((i=X[h])&&(f=i.a)){if(a=(o=f.i)[r])for(p=a.length;p--;)o={r:n=a[p],v:h,n:n},n?!b&&e.matches(n)&&u.push(o):b&&u.unshift(o);if(f.tmpl&&!b)break;b=0}}while(i&&(h=i.pId))}}return l&&u.push(l),u},ae=e=>{let t,r,i,n,o,a,l,f,{target:d,type:h}=e,u=[];for(;d!=s&&!(e.cancelBubble||(r=d.d)&&r[h]);){if(u.push(d),(t=oe(d,h)).length){u=[];for(let{v:r,r:s,n:u,i:p}of t){if(l!=r){if(l&&e.cancelBubble)break;l=r}(n=(i=X[r])&&i.a)?n.h&&(a=n[o=u+"\x1e"+h])&&(e.eventTarget=d,f=p?P(p,n.a):{},e.params=f,C(a,e,n)):e.stopPropagation()}}d=d.parentNode||s}for(l of u)(r=l.d||(l.d={}))[h]=1},le=(e,t,r)=>{let i=0|ie[e],n=r?-1:1;i&&r!==i||(r?L:B)(s,e,ae),ie[e]=i+n,t&&(ne[e]=(0|ne[e])+n)};let se={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},fe=/[&<>"'\`]/g,de=e=>""+(null==e?"":e),he=e=>`&${se[e]};`,ue=e=>de(e).replace(fe,he),pe={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},ce=e=>pe[e],be=/[!')(*]/g,me=e=>o(de(e)).replace(be,ce),ge=/[\\'"]/g,we=e=>de(e).replace(ge,"\\$&"),ve=(e,t,r)=>(e.has(t)||(r="\x1e"+e.size,e.set(t,r),e.set(r,t)),e.get(t)),xe=(e,t)=>{let r,i,n=e.j,o=e.k,a=e.owner,l=e.id,s={a:[]},f=e.e,d=e.a,h=r=>{t.a<t.length?xe(e,t):(s=t.slice(),t.a=t.length=0,r&&e.fire("domready"),C(s))};if(t.a=t.length,e.k=0,e.j={},o&&e.d>0&&(r=e.tmpl)){for(i of(e.fire("dompatch"),i=r(f,ye,l,de,me,d,ve,we,p),Ce(e.root,e.l,i,s,a,n),e.l=i,s.a))i.g();r&&e.endUpdate(),h(1)}else h()},ye=(e,t,r,i)=>{let n;if(e){t=t||{};let o,a,l,s,f,d,h="",u={},p="<"+e,c="",b=[];if(r)for(s of r)l=s.a,s.b==Ve&&(l=l?ue(l):" "),c+=l,d&&s.b==Ve&&d.b==Ve?d.a+=s.a:(s.d&&(u[s.d]=(u[s.d]||0)+1),s.e&&(o=1),d=s,b.push(s));for(a in t)!1!==(l=t[a])&&null!=l?(!0===l&&(t[a]=l=""),"id"==a?h=l:"mx-view"==a&&l&&!h?h=R(l).path:"mxs"==a?h||(h=l):"mxv"==a&&(o=1),"value"==a&&"textarea"==e?c=l:E(ke,a)||(p+=` ${a}="${ue(l)}"`)):delete t[a];f=p,n={a:p+=i?"/>":`>${c}</${e}>`,c:c,d:h,b:e,e:o||E($e,e),f:f,g:t,h:b,i:u,j:i}}else n={b:t?"\x1e":Ve,a:r+""};return n},$e={input:{value:1,checked:1},textarea:{value:1},option:{selected:1}},ke={mxs:1,mxv:1};let Ve=e;let Ie="http://www.w3.org/",je={svg:`${Ie}2000/svg`,math:`${Ie}1998/Math/MathML`},Ae=(e,t,r,i)=>{let n,o,a=0,l=$e[t.b],s=r.g,f=t.g;if(i){if(t)for(n in f)E(l,n)||E(s,n)||(a=1,e.removeAttribute(n));for(n in s)E(l,n)||E(ke,n)||(o=s[n],t&&f[n]===o||(a=1,e.setAttribute(n,o)))}for(n in l)o=E(s,n)?"value"!=n||s[n]:"value"==n&&"",e[n]!=o&&(a=1,e[n]=o);return a&&delete e.d,a},Oe=(e,t,r)=>{let n,o=e.b;return o==Ve?n=i.createTextNode(e.a):(n=i.createElementNS(je[o]||t.namespaceURI,o),Ae(n,0,e,1)&&(r.b=1),m(n,e.c)),n},Ce=(e,t,r,i,n,o)=>{if(t){if(t.e||t.c!=r.c){let a,l,s,f,d,h,u=t.h,p=r.h,c=u.length,b=p.length,g=r.i,w=e.childNodes,v={},x=0;for(a=c;a--;)(d=(s=u[a]).d)&&(d=v[d]||(v[d]=[])).push(w[a]);for(a=0;a<b;a++)if(f=p[a],s=u[x++],(d=v[f.d])&&(d=d.pop())){if(d!=w[a]){for(l=x,h=1;l<c;l++,h++)if((s=u[l])&&w[a+h]==d){u.splice(l,1),x--;break}e.insertBefore(d,w[a])}g[s.d]&&g[s.d]--,Ee(d,e,s,f,i,n,o)}else s?v[s.d]&&g[s.d]?(c++,i.b=1,e.insertBefore(Oe(f,e,i),w[a]),x--):Ee(w[a],e,s,f,i,n,o):("\x1e"==f.b?m(e,f.a):e.appendChild(Oe(f,e,i)),i.b=1);for(a=b;a<c;a++)1==(l=w[b]).nodeType&&n.unmountZone(l),e.removeChild(l)}}else i.b=1,m(e,r.c)},Ee=(e,t,r,i,n,o,a)=>{let l=r.g,s=i.g,f=r.b;if(r.e||r.a!=i.a)if(f==i.b){if(f==Ve)n.b=1,e.nodeValue=i.a;else if("\x1e"==f)n.b=1,m(t,i.a);else if(!l.mxs||l.mxs!=s.mxs){let t,d,h,u,p,c,b,m=s["mx-view"],g=i.c,w=r.f!=i.f,v=E($e,f)||w,x=X[e.b],y=m&&R(m);if(v&&(v=Ae(e,r,i,w))&&(n.b=1),m&&x&&x.g==y.path&&(u=x.a)){if(c=g!=r.c,b=m!=x.path,h=l.mxv,!c&&!b&&h)for(h of p=h.split(","))if("#"==h||E(a,h)){b=1;break}(b||c||v)&&((h=u.h&&u.m)?(p=y.params,G(x.pId,m,p),x.path=m,C(h,p,u)&&n.a.push(u),t=!u.tmpl):(d=1,t=1))}else t=1,d=x;d&&(n.b=1,x.unmountVframe(0,1)),t&&!i.j&&Ce(e,r,i,n,o,a)}}else"\x1e"==r.b?m(t,i.a):(o.unmountZone(e),t.replaceChild(Oe(i,t,n),e)),n.b=1},Se={},Ue=y({get:e=>e?Se[e]:Se,set(e){y(Se,e)}},W),Me=/^(\$?)([^<]*)<([^>]+)>(?:&(.+))?$/,Ne=(e,t,r)=>(e.a?r=e:((r=function(e){C(r.a,e,this)}).a=[e],r.b=1),r.a=r.a.concat(t.a||t),r),Te=(e,t,r,i,n)=>{i=e[t],e[t]=e[r]=function(...e){(n=this).d>0&&(n.d++,n.fire("rendercall"),C(i,e,n))}},Ze=(e,t)=>{let r,{n:i,i:n,o:o,id:a}=e;for(r in i)le(r,n[r],t);for(r of(i=t?L:B,o))i(r.a,r.b,r.c,a,r.d,e)},Be={win:r,doc:i},Le=(e,t,r)=>{let i,n,o,a,l={};for(n of e)for(i in n)o=n[i],a=l[i],"ctor"!=i?(Me.test(i)&&(a?o=Ne(a,o):o.b=1),l[i]=o):r.push(o);for(i in l)E(t,i)||(t[i]=l[i])};function _e(...e){let t=this.a||(this.a=[]);return Le(e,this[f],t),this}let Re=e=>{if(!e["\x1e"]){e["\x1e"]=[];let t,r,i,n,o,a,l,s,d,h,u,p=e[f],c={},b=[],m={};for(l in(r=p.mixins)&&Le(r,p,e["\x1e"]),p)if(t=p[l],r=l.match(Me)){if([,a,i,n,u]=r,h={},u)for(s of u=u.split(","))h[s]=!0;for(s of n=n.split(",")){if(o=Be[i],d=1,a){if(o){b.push({c:t,a:o,b:s,d:h});continue}d=2,(o=m[s])||(o=m[s]=[]),o[i]||(o[i]=1,o.push(i))}c[s]=c[s]|d,(o=p[s=i+"\x1e"+s])?o.b&&(t.b?p[s]=Ne(t,o):E(p,l)&&(p[s]=t)):p[s]=t}}Te(p,"render","g"),p.n=c,p.o=b,p.i=m,p.m=p.assign}return e["\x1e"]};function De(e,t,r,i,n){(n=this).root=t,n.owner=r,n.id=e,n.c={},n.d=1,n.k=1,n.e={id:e},n.a=new Map,n.f=[],n.j={},(e=De.a)&&C(e,i,n)}y(De,{merge:_e,extend:function e(t,r){let i=this,n=(t=t||{}).ctor,o=[];function a(e,t,r,n,l,s,f,d){i.call(f=this,e,t,r,n,l),(s=a.a)&&C(s,n,f),(d=o.concat(l)).length&&C(d,n,f)}return n&&o.push(n),a.merge=_e,a.extend=e,z(a,i,t,r)}}),y(De[f],W,{init:a,render:a,beginUpdate(e,t){(t=this).d>0&&t.h&&t.owner.unmountZone(e)},endUpdate(e,t,r,i){(t=this).d>0&&(i=t.h,t.h=1,(r=t.owner).mountZone(e),i||n(t.wrapAsync(Q),0,r))},wrapAsync(e,t){let r=this,i=r.d;return(...n)=>{if(i>0&&i==r.d)return e.apply(t||r,n)}},get(e,t){return t=this.e,e&&(t=t[e]),t},set(e,t){let r,i,n,o=this,a=o.e,l=o.j,s=o.k;for(n in e)r=e[n],i=a[n],v(r)&&i===r||E(t,n)||(l[n]=1,s=1),a[n]=r;return o.k=s,o},digest(e,t,r){let i=this.set(e,t),n=i.f;r&&n.push(r),n.a||xe(i,n)},snapshot(){return this.p=l(this.e),this},altered(){let e=this;if(e.p)return e.p!=l(e.e)},translate(e){return S(this.e,e)},parse(e){return P(e,this.a)}}),y(a[f],W),a.extend=function e(t,r){let i=this,n=t&&t.ctor;function o(...e){i.apply(this,e),n&&n.apply(this,e)}return o.extend=e,z(o,i,t,r)};let Pe={config:(e,t)=>(t=w,e&&(t=u(e)?y(t,e):t[e]),t),boot(e){y(w,e),((e,t)=>(J||(e=w.rootId,(t=b(e))||(t=s),J=new ee(t)),J))().mountView(w.defaultView)},toMap:(e,t)=>{let r,i={};if(e)for(r of e)i[t&&r?r[t]:r]=t?r:1+(0|i[r]);return i},toTry:C,toUrl:(e,t,r)=>{let i,n,a,l=[];for(n in t)i=t[n]+"",(!r||i||E(r,n))&&(i=o(i),l.push(a=n+"="+i));return a&&(e+=(e&&(~e.indexOf("?")?"&":"?"))+l.join("&")),e},parseUrl:R,mix:y,has:E,keys:$,inside:x,applyStyle:O,guid:c,Cache:M,use:H,dispatch:(e,t,r)=>{let i=new Event(t,T);y(i,r),e.dispatchEvent(i)},type:h,View:De,State:Ue,Vframe:ee,Service:Service,Event:W,guard:F,node:b};export default Pe